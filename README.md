# 踩地雷 Minesweeper（單檔版）

一個可直接打開就能玩的踩地雷網頁遊戲。**零依賴、單檔運行**：把 `index.html` 下載後用瀏覽器開啟即可。

## ✨ 功能特色
- ✅ 首擊保底：第一次點擊一定安全
- ✅（可選）首擊擴張安全：首擊附近 8 格也不放雷
- ✅ 快速展開（Chord）：**雙擊數字**或**同時按左右鍵**，若周圍旗數＝該數字，會自動展開其它相鄰格
- ✅ 右鍵插旗／手機**長按 500ms** 插旗
- ✅ 計時器、剩餘雷數、未翻格數、勝負判定
- ✅ 三段預設難度（9×9×10、16×16×40、30×16×99）＋自訂列數、行數、地雷數
- ✅ 介面自適應桌機／手機，深色霓虹風視覺

## ▶️ 使用方式
1. 下載本專案壓縮檔並解壓縮。
2. 直接用瀏覽器開啟 `index.html` 即可遊玩（推薦 Chrome／Edge／Firefox／Safari 最新版）。
3. 頂部工具列可切換難度、調整行列與雷數，勾選「首擊擴張安全」與「快速展開」。

## 🎮 操作說明
- **左鍵**：翻開方格
- **右鍵**：插旗／取消旗（手機長按 500ms 等同右鍵）
- **雙擊數字**或**同時按左右鍵**：快速展開（Chord）相鄰未翻格
- **快捷鍵**：`N` 開新局、`R` 重來
- **勝利條件**：翻開所有**非地雷**方格
- **失敗條件**：翻開地雷

## ⚙️ 參數與限制
- 列／行允許範圍：5 ~ 50
- 地雷數上限：不超過格子總數 - 1；另外程式以 600 作為硬上限以避免極端延遲
- 自訂模式下若輸入不合理值，系統會自動夾限（clamp）至合法範圍

## 🧠 實作重點
- **首擊後佈雷**：確保首擊安全；若啟用「首擊擴張安全」，則首擊格與其 8 鄰格都不放雷
- **快速展開（Chord）**：對已翻開的數字格，若周圍旗數等於該數字，會自動展開其餘相鄰未翻格
- **零依賴**：不使用外部框架，純原生 HTML/CSS/JS

## 📱 相容性
- 桌機與行動裝置皆可遊玩。行動裝置以**長按**取代右鍵。
- 若 iOS Safari 阻擋聲音自動播放，本專案無音效，不受影響。

## 🧩 常見問題（FAQ）
**Q1：雙擊沒有快速展開？**  
A：請確認該格已翻開且為數字格，並且周圍旗數要與該數字相等；或在設定勾選「啟用快速展開」。

**Q2：首擊還是踩雷？**  
A：此專案會在**首擊時才佈雷**，並排除首擊格（與可選的周圍 8 格），因此首擊不會踩雷。若你更改了程式流程，請檢查 `placeMines()` 的 `excludeSet`。

**Q3：自訂超大尺寸很卡？**  
A：50×50 已相當大。請酌量調整或降低地雷數。

## 🛠️ 二次開發指引
- 主要邏輯集中於 `<script>` 自執行區塊中：
  - `placeMines(excludeSet)`：佈雷與鄰雷數計算  
  - `floodReveal(r,c)`：零數字連鎖展開  
  - `chord(r,c)`：快速展開  
  - `paint(cell)`：UI 繪製
- 可在樣式區塊調整主題色（`--accent`、`--accent-2` 等）。

## 📄 授權
- MIT License。自由修改、商用與再發佈，請保留版權宣告。
